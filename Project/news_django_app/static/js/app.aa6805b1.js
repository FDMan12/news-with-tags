(function(){"use strict";var e={4409:function(e,t,a){var o=a(3751),r=a(641);const n={id:"app"};function s(e,t,a,o,s,i){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(l)])}var i={name:"App"},l=a(6262);const d=(0,l.A)(i,[["render",s]]);var c=d,u=a(5220);const p=(0,r.Lk)("h1",null,"Основной компонент работает!",-1),m=[p];function f(e,t,a,o,n,s){return(0,r.uX)(),(0,r.CE)("div",null,m)}var g={name:"MainComponent",mounted(){console.log("MainComponent mounted")}};const h=(0,l.A)(g,[["render",f]]);var k=h;const v=e=>((0,r.Qi)("data-v-7670cd55"),e=e(),(0,r.jt)(),e),b={class:"registration-page"},w={class:"registration-form"},L=v((()=>(0,r.Lk)("h2",null,"Регистрация",-1))),y={class:"form-group"},_=v((()=>(0,r.Lk)("label",{for:"name"},"Имя пользователя",-1))),E={class:"form-group"},F=v((()=>(0,r.Lk)("label",{for:"surname"},"Фамилия пользователя",-1))),C={class:"patronymic"},P=v((()=>(0,r.Lk)("label",{for:"username"},"Отчество пользователя",-1))),U={class:"form-group"},X=v((()=>(0,r.Lk)("label",{for:"login"},"Логин",-1))),I={class:"form-group"},T=v((()=>(0,r.Lk)("label",{for:"email"},"Почта",-1))),S={class:"form-group"},A=v((()=>(0,r.Lk)("label",{for:"password"},"Пароль",-1))),z={class:"form-group"},V=v((()=>(0,r.Lk)("label",{for:"confirmPassword"},"Повторите пароль",-1))),j={class:"form-group"},W={key:0,class:"password-match"},J={key:1,class:"password-no-match"},q=["disabled"],$=v((()=>(0,r.Lk)("div",{class:"form-group"},[(0,r.Lk)("label",{for:"confirmPassword"},"Повторите пароль")],-1))),x={class:"form-group"},M={for:"confirmPassword"};function O(e,t,a,n,s,i){const l=(0,r.g2)("router-link"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("div",w,[L,(0,r.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,r.Lk)("div",y,[_,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e),required:""},null,512),[[o.Jo,s.name]])]),(0,r.Lk)("div",E,[F,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"surname","onUpdate:modelValue":t[1]||(t[1]=e=>s.surname=e),required:""},null,512),[[o.Jo,s.surname]])]),(0,r.Lk)("div",C,[P,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"patronymic","onUpdate:modelValue":t[2]||(t[2]=e=>s.patronymic=e),required:""},null,512),[[o.Jo,s.patronymic]])]),(0,r.Lk)("div",U,[X,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"login","onUpdate:modelValue":t[3]||(t[3]=e=>s.login=e),required:""},null,512),[[o.Jo,s.login]])]),(0,r.Lk)("div",I,[T,(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>s.email=e),required:""},null,512),[[o.Jo,s.email]])]),(0,r.Lk)("div",S,[A,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[5]||(t[5]=e=>s.password=e),required:""},null,512),[[o.Jo,s.password]])]),(0,r.Lk)("div",z,[V,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[6]||(t[6]=e=>s.confirmPassword=e),required:""},null,512),[[o.Jo,s.confirmPassword]])]),(0,r.Lk)("div",j,[s.passwordsMatch?((0,r.uX)(),(0,r.CE)("p",W,"Пароли совпадают")):((0,r.uX)(),(0,r.CE)("p",J,"Пароли не совпадают"))]),(0,r.Lk)("button",{type:"submit",disabled:!s.passwordsMatch},"Зарегистрироваться",8,q),$,(0,r.Lk)("div",x,[(0,r.Lk)("label",M,[(0,r.eW)("Есть аккаунт? "),(0,r.bF)(l,{to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Авторизироваться")])),_:1})]),(0,r.bF)(l,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("На главную")])),_:1})])],32)]),(0,r.bF)(d)])}a(4114);const Q=e=>((0,r.Qi)("data-v-00b101d0"),e=e(),(0,r.jt)(),e),H={class:"footer"},D={class:"footer-content"},K=Q((()=>(0,r.Lk)("a",{href:"mailto:your-email@example.com"},"Контакты",-1)));function N(e,t,a,o,n,s){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("footer",H,[(0,r.Lk)("div",D,[(0,r.bF)(i,{to:"/about"},{default:(0,r.k6)((()=>[(0,r.eW)("О нас")])),_:1}),(0,r.bF)(i,{to:"/help"},{default:(0,r.k6)((()=>[(0,r.eW)("Помощь")])),_:1}),K])])}var Y={name:"Footer"};const R=(0,l.A)(Y,[["render",N],["__scopeId","data-v-00b101d0"]]);var B=R,G=a(4335);const Z=G.A.create({baseURL:"http://localhost:8080/api",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});Z.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Token ${t}`),e}),(e=>Promise.reject(e)));var ee={getNews(){return Z.get("/news")},getUserProfile(){return Z.get("/users/profile/")}},te={name:"Registration",components:{Footer:B},data(){return{name:"",surname:"",patronymic:"",login:"",email:"",password:"",confirmPassword:"",passwordsMatch:!0}},watch:{password(){this.checkPasswordsMatch()},confirmPassword(){this.checkPasswordsMatch()}},methods:{checkPasswordsMatch(){this.passwordsMatch=this.password===this.confirmPassword},isLoggedIn(){return!!localStorage.getItem("authToken")},async register(){try{const e=await G.A.post("api/register/",{name:this.name,surname:this.surname,patronymic:this.patronymic,mail:this.email,login:this.login,password:this.password,confirm_password:this.confirmPassword});console.log("User registered:",e.data),localStorage.setItem("authToken",e.data.token),await _a.push({name:"/"})}catch(e){console.error("Error registering user:",e)}}}};const ae=(0,l.A)(te,[["render",O],["__scopeId","data-v-7670cd55"]]);var oe=ae;const re=e=>((0,r.Qi)("data-v-d8220e92"),e=e(),(0,r.jt)(),e),ne={class:"login-page"},se={class:"login-form"},ie=re((()=>(0,r.Lk)("h2",null,"Вход",-1))),le={class:"form-group"},de=re((()=>(0,r.Lk)("label",{for:"username"},"Логин",-1))),ce={class:"form-group"},ue=re((()=>(0,r.Lk)("label",{for:"password"},"Пароль",-1))),pe=re((()=>(0,r.Lk)("button",{type:"submit"},"Войти",-1))),me={class:"form-group"},fe={for:"confirmPassword"};function ge(e,t,a,n,s,i){const l=(0,r.g2)("router-link"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",ne,[(0,r.Lk)("div",se,[ie,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",le,[de,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),required:""},null,512),[[o.Jo,s.username]])]),(0,r.Lk)("div",ce,[ue,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),required:""},null,512),[[o.Jo,s.password]])]),pe,(0,r.Lk)("div",me,[(0,r.Lk)("label",fe,[(0,r.eW)("Нет аккаунта? "),(0,r.bF)(l,{to:"/signup"},{default:(0,r.k6)((()=>[(0,r.eW)("Зарегистрироваться")])),_:1})]),(0,r.bF)(l,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("На главную")])),_:1})])],32)]),(0,r.bF)(d)])}var he={name:"LoginPage",data(){return{username:"",password:""}},components:{Footer:B},methods:{submitForm(){console.log("Логин:",this.username),console.log("Пароль:",this.password)}}};const ke=(0,l.A)(he,[["render",ge],["__scopeId","data-v-d8220e92"]]);var ve=ke,be=a(33);const we={class:"tags-page"},Le={class:"tags-container"},ye=["onClick"];function _e(e,t,a,o,n,s){const i=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",we,[(0,r.Lk)("div",Le,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.tags,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,be.C4)(["tag",{selected:n.selectedTag===e}]),key:t,onClick:t=>s.selectTag(e)},(0,be.v_)(e),11,ye)))),128))]),(0,r.bF)(i)])}var Ee={name:"Tags",components:{Footer:B},data(){return{tags:[],selectedTag:null}},async mounted(){try{const e=await ee.get("/tags/");this.tags=e.data}catch(e){console.error("Error fetching tags:",e)}},methods:{selectTag(e){this.selectedTag=e}}};const Fe=(0,l.A)(Ee,[["render",_e],["__scopeId","data-v-28fa0276"]]);var Ce=Fe;const Pe={class:"page-container"},Ue={class:"main-content"},Xe={class:"magazines-list"},Ie={key:0},Te=["href"];function Se(e,t,a,o,n,s){const i=(0,r.g2)("Header"),l=(0,r.g2)("Sidebar"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Pe,[(0,r.bF)(i),(0,r.Lk)("div",Ue,[(0,r.bF)(l),(0,r.Lk)("div",Xe,[(0,r.Lk)("div",null,[(0,r.Lk)("h1",null,(0,be.v_)(n.news.name),1),(0,r.Lk)("p",null,(0,be.v_)(n.news.description),1),n.news.file?((0,r.uX)(),(0,r.CE)("div",Ie,[(0,r.Lk)("a",{href:n.news.file,target:"_blank"},"Download File",8,Te)])):(0,r.Q3)("",!0)])])]),(0,r.bF)(d)])}const Ae=e=>((0,r.Qi)("data-v-23bc6860"),e=e(),(0,r.jt)(),e),ze={class:"header"},Ve={class:"header-content"},je=Ae((()=>(0,r.Lk)("h1",null,"Мои Новости",-1)));function We(e,t,a,o,n,s){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",ze,[(0,r.Lk)("div",Ve,[je,(0,r.Lk)("nav",null,[(0,r.bF)(i,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Новости для вас")])),_:1}),(0,r.bF)(i,{to:"/my-magazines"},{default:(0,r.k6)((()=>[(0,r.eW)("Мои журналы")])),_:1}),(0,r.bF)(i,{to:"/latest-news"},{default:(0,r.k6)((()=>[(0,r.eW)("Сегодняшнее")])),_:1})]),s.isLoggedIn()?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(i,{key:0,to:"/signup"},{default:(0,r.k6)((()=>[(0,r.eW)("Регистрация")])),_:1})),s.isLoggedIn()?((0,r.uX)(),(0,r.Wv)(i,{key:1,to:"/profile",class:"account-link"},{default:(0,r.k6)((()=>[(0,r.eW)("Мой аккаунт")])),_:1})):(0,r.Q3)("",!0),s.isLoggedIn?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[0]||(t[0]=(...e)=>s.logout&&s.logout(...e))},"Выйти")):(0,r.Q3)("",!0)])])}var Je={name:"Header",data(){return{userProfile:null}},mounted(){ee.getUserProfile().then((e=>{this.userProfile=e.data})).catch((e=>{console.error("Ошибка при загрузке профиля:",e)}));try{const e=localStorage.getItem("authToken");this.isLoggedIn=!!e}catch(e){console.error("Error fetching news:",e)}},computed:{isLoggedIn(){return!!localStorage.getItem("authToken")}},methods:{logout(){localStorage.removeItem("authToken"),_a.push({path:"/"})}}};const qe=(0,l.A)(Je,[["render",We],["__scopeId","data-v-23bc6860"]]);var $e=qe;const xe={class:"sidebar"},Me=(0,r.Fv)("<h3 data-v-994d7f5e>Мои новости</h3><nav data-v-994d7f5e><h4 data-v-994d7f5e>Избранные теги</h4><ul data-v-994d7f5e><li data-v-994d7f5e>Спорт</li><li data-v-994d7f5e>Музыка</li><li data-v-994d7f5e>Кино</li><li data-v-994d7f5e>Наука</li></ul><h4 data-v-994d7f5e>Местные новости</h4><ul data-v-994d7f5e><li data-v-994d7f5e>Москва</li><li data-v-994d7f5e>Липецк</li><li data-v-994d7f5e>Воронеж</li><li data-v-994d7f5e>Пермь</li></ul><h4 data-v-994d7f5e>Мои журналы</h4><ul data-v-994d7f5e><li data-v-994d7f5e>New York Times</li><li data-v-994d7f5e>Биография</li><li data-v-994d7f5e>Esquire</li><li data-v-994d7f5e>Elle</li></ul></nav>",2),Oe=[Me];function Qe(e,t,a,o,n,s){return(0,r.uX)(),(0,r.CE)("aside",xe,Oe)}var He={name:"Sidebar"};const De=(0,l.A)(He,[["render",Qe],["__scopeId","data-v-994d7f5e"]]);var Ke=De,Ne={name:"MagazinesPage",components:{Header:$e,Sidebar:Ke,Footer:B},props:{id:{type:String,required:!0}},data(){return{news:{}}},async mounted(){try{const e=await ee.get(`/posts/${this.id}/`);this.news=e.data}catch(e){console.error("Error fetching news detail:",e)}}};const Ye=(0,l.A)(Ne,[["render",Se],["__scopeId","data-v-13b3311e"]]);var Re=Ye;const Be={class:"page-container"},Ge={class:"main-content"},Ze={class:"magazines-list"};function et(e,t,a,o,n,s){const i=(0,r.g2)("Header"),l=(0,r.g2)("Sidebar"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Be,[(0,r.bF)(i),(0,r.Lk)("div",Ge,[(0,r.bF)(l),(0,r.Lk)("div",Ze,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.magazines,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"magazine-card",key:e.id},(0,be.v_)(e.name),1)))),128))])]),(0,r.bF)(d)])}var tt={name:"MagazinesPage",components:{Header:$e,Sidebar:Ke,Footer:B},data(){return{magazines:[{id:1,name:"New York Times"},{id:2,name:"Биография"},{id:3,name:"Esquire"},{id:4,name:"Elle"}]}}};const at=(0,l.A)(tt,[["render",et],["__scopeId","data-v-6a0ceb98"]]);var ot=at;const rt=e=>((0,r.Qi)("data-v-4108ea88"),e=e(),(0,r.jt)(),e),nt={class:"profile"},st=rt((()=>(0,r.Lk)("h1",null,"Мой профиль",-1))),it={class:"avatar"},lt=rt((()=>(0,r.Lk)("div",{class:"avatar-placeholder"},"+",-1))),dt={class:"form-group"},ct=rt((()=>(0,r.Lk)("label",{for:"email"},"e-mail",-1))),ut={class:"form-group"},pt=rt((()=>(0,r.Lk)("label",{for:"first_name"},"Имя",-1))),mt={class:"form-group"},ft=rt((()=>(0,r.Lk)("label",{for:"last_name"},"Фамилия",-1))),gt=rt((()=>(0,r.Lk)("button",{type:"submit"},"Сохранить данные",-1))),ht=rt((()=>(0,r.Lk)("h2",null,"Смена пароля",-1))),kt={class:"form-group"},vt=rt((()=>(0,r.Lk)("label",{for:"new_password"},"Старый пароль",-1))),bt={class:"form-group"},wt=rt((()=>(0,r.Lk)("label",{for:"new_password"},"Новый пароль",-1))),Lt={class:"form-group"},yt=rt((()=>(0,r.Lk)("label",{for:"confirm_password"},"Повтор пароля",-1))),_t=rt((()=>(0,r.Lk)("button",{type:"submit"},"Изменить пароль",-1))),Et={key:0},Ft={key:1};function Ct(e,t,a,n,s,i){const l=(0,r.g2)("Header-wide"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(l),(0,r.Lk)("div",nt,[st,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>i.updateProfile&&i.updateProfile(...e)),["prevent"]))},[(0,r.Lk)("div",it,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.uploadAvatar&&i.uploadAvatar(...e))},"Добавить аватар"),lt]),(0,r.Lk)("div",dt,[ct,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.email=e),id:"email",readonly:""},null,512),[[o.Jo,s.user.email]])]),(0,r.Lk)("div",ut,[pt,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.first_name=e),id:"first_name"},null,512),[[o.Jo,s.user.first_name]])]),(0,r.Lk)("div",mt,[ft,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.last_name=e),id:"last_name"},null,512),[[o.Jo,s.user.last_name]])]),gt],32),ht,(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>i.changePassword&&i.changePassword(...e)),["prevent"]))},[(0,r.Lk)("div",kt,[vt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[5]||(t[5]=e=>s.password.old=e),id:"new_password"},null,512),[[o.Jo,s.password.old]])]),(0,r.Lk)("div",bt,[wt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>s.password.new=e),id:"new_password"},null,512),[[o.Jo,s.password.new]])]),(0,r.Lk)("div",Lt,[yt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=e=>s.password.confirm=e),id:"confirm_password"},null,512),[[o.Jo,s.password.confirm]])]),_t,s.error?((0,r.uX)(),(0,r.CE)("p",Et,(0,be.v_)(s.error),1)):(0,r.Q3)("",!0),s.success?((0,r.uX)(),(0,r.CE)("p",Ft,(0,be.v_)(s.success),1)):(0,r.Q3)("",!0)],32)]),(0,r.bF)(d)],64)}const Pt={class:"header-wide"},Ut={class:"header-content"};function Xt(e,t,a,o,n,s){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",Pt,[(0,r.Lk)("div",Ut,[(0,r.bF)(i,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Новости для вас")])),_:1}),(0,r.bF)(i,{to:"/journals"},{default:(0,r.k6)((()=>[(0,r.eW)("Мои журналы")])),_:1}),(0,r.bF)(i,{to:"/today"},{default:(0,r.k6)((()=>[(0,r.eW)("Сегодняшнее")])),_:1})])])}var It={name:"HeaderWide"};const Tt=(0,l.A)(It,[["render",Xt],["__scopeId","data-v-4b598fd8"]]);var St=Tt,At={name:"account",components:{HeaderWide:St,Footer:B},data(){return{user:{email:"",first_name:"",last_name:"",date_of_birth:""},password:{new:"",confirm:"",old:""},error:null,success:null}},created(){this.fetchProfile()},methods:{async fetchProfile(){try{const e=await ee.get("/api/profile/");this.user=e.data}catch(e){console.error("Error fetching profile:",e)}},async updateProfile(){try{await ee.put("/api/profile/",this.user),alert("Данные профиля обновлены")}catch(e){console.error("Error updating profile:",e)}},async changePassword(){if(this.password.new===this.password.confirm)try{const e=await ee.post("/api/change-password/",{new_password:this.password.new,confirm_password:this.password.confirm,old_password:this.password.old});this.success=e.data.success,this.error=null}catch(e){this.error=e.response.data.error,this.success=null,console.error("Error changing password:",e)}else alert("Пароли не совпадают")},uploadAvatar(){}}};const zt=(0,l.A)(At,[["render",Ct],["__scopeId","data-v-4108ea88"]]);var Vt=zt;const jt=e=>((0,r.Qi)("data-v-3a8abae0"),e=e(),(0,r.jt)(),e),Wt={class:"page-container"},Jt={class:"main-content"},qt={class:"content"},$t=jt((()=>(0,r.Lk)("h2",null,"Создание публикации",-1))),xt={class:"form-group"},Mt=jt((()=>(0,r.Lk)("label",{for:"title"},"Заголовок:",-1))),Ot={class:"form-group"},Qt=jt((()=>(0,r.Lk)("label",{for:"content"},"Текст публикации:",-1))),Ht={class:"form-group"},Dt=jt((()=>(0,r.Lk)("label",{for:"preview"},"Превью:",-1))),Kt={class:"form-group"},Nt=jt((()=>(0,r.Lk)("label",{for:"tags"},"Теги:",-1))),Yt=["value"],Rt=jt((()=>(0,r.Lk)("button",{type:"submit"},"Опубликовать",-1)));function Bt(e,t,a,n,s,i){const l=(0,r.g2)("Header"),d=(0,r.g2)("Sidebar"),c=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Wt,[(0,r.bF)(l),(0,r.Lk)("div",Jt,[(0,r.bF)(d),(0,r.Lk)("div",qt,[$t,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",xt,[Mt,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>s.title=e),required:""},null,512),[[o.Jo,s.title]])]),(0,r.Lk)("div",Ot,[Qt,(0,r.bo)((0,r.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>s.content=e),required:""},null,512),[[o.Jo,s.content]])]),(0,r.Lk)("div",Ht,[Dt,(0,r.Lk)("input",{type:"file",id:"preview",onChange:t[2]||(t[2]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e))},null,32)]),(0,r.Lk)("div",Kt,[Nt,(0,r.bo)((0,r.Lk)("select",{id:"tags","onUpdate:modelValue":t[3]||(t[3]=e=>s.selectedTag=e)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tags,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,be.v_)(e),9,Yt)))),128))],512),[[o.u1,s.selectedTag]])]),Rt],32)])]),(0,r.bF)(c)])}var Gt={name:"CreatePostPage",components:{Header:$e,Sidebar:Ke,Footer:B},data(){return{title:"",content:"",selectedTag:"",tags:["Спорт","Музыка","Кино","Наука","Москва","Липецк","Воронеж","Пермь"]}},created(){this.$route.params.id&&this.fetchPost()},methods:{handleFileUpload(e){},async submitForm(){this.$route.params.id?await this.updatePost():await this.createPost()},async createPost(){try{await ee.post("/api/posts/",{title:this.title,content:this.content,selectedTag:this.selectedTag}),this.$router.push("/")}catch(e){console.error("Error creating post:",e)}},async fetchPost(){try{const e=await ee.get(`/posts/${this.$route.params.id}/`);this.post=e.data}catch(e){console.error("Error fetching post:",e)}},async updatePost(){try{await ee.put(`/api/posts/${this.$route.params.id}/`,{title:this.title,content:this.content,selectedTag:this.selectedTag}),this.$router.push("/")}catch(e){console.error("Error updating post:",e)}}}};const Zt=(0,l.A)(Gt,[["render",Bt],["__scopeId","data-v-3a8abae0"]]);var ea=Zt;const ta=e=>((0,r.Qi)("data-v-f4c2e1c0"),e=e(),(0,r.jt)(),e),aa={class:"page-container"},oa={class:"main-content"},ra={class:"content"},na=ta((()=>(0,r.Lk)("h2",null,"Добавить редактора",-1))),sa={class:"form-group"},ia=ta((()=>(0,r.Lk)("label",{for:"name"},"Л:",-1))),la={class:"form-group"},da=ta((()=>(0,r.Lk)("label",{for:"email"},"Почта:",-1))),ca={class:"form-group"},ua=ta((()=>(0,r.Lk)("label",{for:"magazines"},"Журналы:",-1))),pa=["value"],ma=ta((()=>(0,r.Lk)("button",{type:"submit"},"Добавить",-1))),fa=ta((()=>(0,r.Lk)("h2",null,"Список редакторов",-1))),ga=ta((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Редакторы"),(0,r.Lk)("th",null,"Журналы"),(0,r.Lk)("th",null,"e-mail"),(0,r.Lk)("th",null,"Удалить")])],-1))),ha=["onClick"];function ka(e,t,a,n,s,i){const l=(0,r.g2)("Header"),d=(0,r.g2)("Sidebar"),c=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",aa,[(0,r.bF)(l),(0,r.Lk)("div",oa,[(0,r.bF)(d),(0,r.Lk)("div",ra,[na,(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>i.addEditor&&i.addEditor(...e)),["prevent"]))},[(0,r.Lk)("div",sa,[ia,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>s.newEditor.login=e),required:""},null,512),[[o.Jo,s.newEditor.login]])]),(0,r.Lk)("div",la,[da,(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.newEditor.email=e),required:""},null,512),[[o.Jo,s.newEditor.email]])]),(0,r.Lk)("div",ca,[ua,(0,r.bo)((0,r.Lk)("select",{id:"magazines","onUpdate:modelValue":t[2]||(t[2]=e=>s.newEditor.magazines=e),multiple:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.magazines,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,be.v_)(e),9,pa)))),128))],512),[[o.u1,s.newEditor.magazines]])]),ma],32),fa,(0,r.Lk)("table",null,[ga,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.editors,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,be.v_)(t+1)+". "+(0,be.v_)(e.name),1),(0,r.Lk)("td",null,(0,be.v_)(e.magazines.join(", ")),1),(0,r.Lk)("td",null,(0,be.v_)(e.email),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:e=>i.removeEditor(t)},"Удалить",8,ha)])])))),128))])])])]),(0,r.bF)(c)])}var va={name:"ManageEditorsPage",components:{Header:$e,Sidebar:Ke,Footer:B},data(){return{newEditor:{name:"",email:"",magazines:[]},magazines:["7 дней","Elle","New York Times","Биография","Esquire"],editors:[{name:"Петров Иван В.",email:"petrov12@mail.ru",magazines:["7 дней","Elle"]}],users:[]}},created(){this.fetchUsers()},methods:{async fetchUsers(){try{const e=await ee.get("/users/");this.users=e.data}catch(e){console.error("Error fetching users:",e)}},async deleteUser(e){try{await ee.delete(`/users/${e}/`),await this.fetchUsers()}catch(t){console.error("Error deleting user:",t)}},async addEditor(){try{await ee.post("/api/editors/",{name:this.newEditor.name,email:this.newEditor.email,magazines:this.newEditor.magazines}),this.newEditor.name="",this.newEditor.email="",this.newEditor.magazines=[],await this.fetchUsers()}catch(e){console.error("Error adding editor:",e)}},async removeEditor(e){const t=this.editors[e];try{await ee.delete(`/api/editors/${t.email}/`),this.editors.splice(e,1)}catch(a){console.error("Error removing editor:",a)}}}};const ba=(0,l.A)(va,[["render",ka],["__scopeId","data-v-f4c2e1c0"]]);var wa=ba;const La=[{path:"/",component:k,name:k},{path:"/signup",component:oe,name:oe},{path:"/login",component:ve,name:ve},{path:"/choose-tags",component:Ce,name:Ce},{path:"/news",component:Re,name:Re},{path:"/magazines",component:ot,name:ot},{path:"/profile",component:Vt,name:Vt},{path:"/create-post",component:ea,name:ea},{path:"/admin",component:wa,name:wa}],ya=(0,u.aE)({history:(0,u.LA)(),base:"static/",routes:La});var _a=ya;const Ea=(0,o.Ef)(c);Ea.use(_a),Ea.mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,n){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],n=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[o,r,n]}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,n,s=o[0],i=o[1],l=o[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var c=l(a)}for(t&&t(o);d<s.length;d++)n=s[d],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(4409)}));o=a.O(o)})();
//# sourceMappingURL=app.aa6805b1.js.map