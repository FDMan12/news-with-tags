(function(){"use strict";var e={8910:function(e,t,a){var o=a(3751),r=a(641);const s={id:"app"};function n(e,t,a,o,n,i){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(l)])}var i={name:"App"},l=a(6262);const d=(0,l.A)(i,[["render",n]]);var c=d,u=a(5220),p=a(33);const m=e=>((0,r.Qi)("data-v-7472c278"),e=e(),(0,r.jt)(),e),h={class:"news-selection-page"},f={class:"main-content"},g={class:"news-content"},v=m((()=>(0,r.Lk)("h1",null,"Новости для вас",-1))),k={class:"news-grid"},b=m((()=>(0,r.Lk)("div",{class:"news-image"},null,-1))),w={class:"news-details"};function L(e,t,a,s,n,i){const l=(0,r.g2)("Header"),d=(0,r.g2)("Sidebar"),c=(0,r.g2)("TagsList"),u=(0,r.g2)("router-link"),m=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",h,[(0,r.bF)(l),(0,r.Lk)("div",f,[(0,r.bF)(d),(0,r.Lk)("div",g,[v,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchQuery=e),placeholder:"Тег для поиска"},null,512),[[o.Jo,n.searchQuery]]),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.search&&i.search(...e))},"Поиск"),(0,r.bF)(c,{onTagSelected:i.fetchNewsByTag},null,8,["onTagSelected"]),(0,r.bF)(u,{to:"/create-post"},{default:(0,r.k6)((()=>[(0,r.eW)("Создать новость")])),_:1}),(0,r.Lk)("div",k,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.newsList,(a=>((0,r.uX)(),(0,r.CE)("div",{class:"news-card",key:a.id},[b,(0,r.Lk)("div",w,[(0,r.Lk)("h3",null,[(0,r.bF)(u,{to:{name:"NewsDetail",params:{id:a.id}}},{default:(0,r.k6)((()=>[(0,r.eW)((0,p.v_)(a.title),1)])),_:2},1032,["to"])]),(0,r.Lk)("p",null,[(0,r.bF)(u,{to:{name:"NewsDetail",params:{id:a.id}}},{default:(0,r.k6)((()=>[(0,r.eW)((0,p.v_)(a.description),1)])),_:2},1032,["to"])])]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=t=>i.deletePost(e.post.id))},"Delete")])))),128))])])]),(0,r.bF)(m)])}a(4114);const y=e=>((0,r.Qi)("data-v-ddf96490"),e=e(),(0,r.jt)(),e),_={class:"header"},E={class:"header-content"},F=y((()=>(0,r.Lk)("h1",null,"Мои Новости",-1)));function C(e,t,a,o,s,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("header",_,[(0,r.Lk)("div",E,[F,(0,r.Lk)("nav",null,[(0,r.bF)(i,{to:"/news-for-you"},{default:(0,r.k6)((()=>[(0,r.eW)("Новости для вас")])),_:1}),(0,r.bF)(i,{to:"/my-magazines"},{default:(0,r.k6)((()=>[(0,r.eW)("Мои журналы")])),_:1}),(0,r.bF)(i,{to:"/latest-news"},{default:(0,r.k6)((()=>[(0,r.eW)("Сегодняшнее")])),_:1})]),(0,r.bF)(i,{to:"/profile",class:"account-link"},{default:(0,r.k6)((()=>[(0,r.eW)("Мой аккаунт")])),_:1})])])}var P={name:"Header"};const U=(0,l.A)(P,[["render",C],["__scopeId","data-v-ddf96490"]]);var X=U;const T=e=>((0,r.Qi)("data-v-00b101d0"),e=e(),(0,r.jt)(),e),S={class:"footer"},V={class:"footer-content"},$=T((()=>(0,r.Lk)("a",{href:"mailto:your-email@example.com"},"Контакты",-1)));function q(e,t,a,o,s,n){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("footer",S,[(0,r.Lk)("div",V,[(0,r.bF)(i,{to:"/about"},{default:(0,r.k6)((()=>[(0,r.eW)("О нас")])),_:1}),(0,r.bF)(i,{to:"/help"},{default:(0,r.k6)((()=>[(0,r.eW)("Помощь")])),_:1}),$])])}var z={name:"Footer"};const A=(0,l.A)(z,[["render",q],["__scopeId","data-v-00b101d0"]]);var J=A;const j={class:"sidebar"},I=(0,r.Fv)('<input type="text" placeholder="Поиск" data-v-02b16380><h3 data-v-02b16380>Мои новости</h3><nav data-v-02b16380><h4 data-v-02b16380>Избранные теги</h4><ul data-v-02b16380><li data-v-02b16380>Спорт</li><li data-v-02b16380>Музыка</li><li data-v-02b16380>Кино</li><li data-v-02b16380>Наука</li></ul><h4 data-v-02b16380>Местные новости</h4><ul data-v-02b16380><li data-v-02b16380>Москва</li><li data-v-02b16380>Липецк</li><li data-v-02b16380>Воронеж</li><li data-v-02b16380>Пермь</li></ul><h4 data-v-02b16380>Мои журналы</h4><ul data-v-02b16380><li data-v-02b16380>New York Times</li><li data-v-02b16380>Биография</li><li data-v-02b16380>Esquire</li><li data-v-02b16380>Elle</li></ul></nav>',3),x=[I];function Q(e,t,a,o,s,n){return(0,r.uX)(),(0,r.CE)("aside",j,x)}var N={name:"Sidebar"};const O=(0,l.A)(N,[["render",Q],["__scopeId","data-v-02b16380"]]);var H=O,M=a(4335);const D=M.A.create({baseURL:"http://localhost:8000/api",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});var W={getNews(){return D.get("/news")}},K={name:"NewsSelectionPage",components:{Sidebar:H,Footer:J,Header:X},data(){return{newsList:[],searchQuery:""}},created(){this.fetchNews()},watch:{"$route.query.q":{immediate:!0,handler(e){e?this.fetchNewsByTag(e):this.fetchNews()}}},async mounted(){try{const e=await W.get("/posts/");this.newsList=e.data}catch(e){console.error("Error fetching news:",e)}},methods:{async fetchNews(){try{const e=await W.get("/posts/");this.newsList=e.data}catch(e){console.error("Error fetching news:",e)}},async fetchNewsByTag(e){try{const t=await W.get(`/posts/tag/${e}/`);this.newsList=t.data}catch(t){console.error("Error fetching news by tag:",t)}},search(){this.$router.push({path:"/",query:{q:this.searchQuery}})},async deletePost(e){try{await W.delete(`/posts/${e}/`),await this.fetchNews()}catch(t){console.error("Error deleting post:",t)}}}};const B=(0,l.A)(K,[["render",L],["__scopeId","data-v-7472c278"]]);var Y=B;const R=e=>((0,r.Qi)("data-v-104dfbe8"),e=e(),(0,r.jt)(),e),G={class:"registration-page"},Z={class:"registration-form"},ee=R((()=>(0,r.Lk)("h2",null,"Регистрация",-1))),te={class:"form-group"},ae=R((()=>(0,r.Lk)("label",{for:"username"},"Имя пользователя",-1))),oe={class:"form-group"},re=R((()=>(0,r.Lk)("label",{for:"username"},"Фамилия пользователя",-1))),se={class:"form-group"},ne=R((()=>(0,r.Lk)("label",{for:"username"},"Отчество пользователя",-1))),ie={class:"form-group"},le=R((()=>(0,r.Lk)("label",{for:"email"},"Логин",-1))),de={class:"form-group"},ce=R((()=>(0,r.Lk)("label",{for:"email"},"Почта",-1))),ue={class:"form-group"},pe=R((()=>(0,r.Lk)("label",{for:"password"},"Пароль",-1))),me={class:"form-group"},he=R((()=>(0,r.Lk)("label",{for:"confirmPassword"},"Повторите пароль",-1))),fe={class:"form-group"},ge={key:0,class:"password-match"},ve={key:1,class:"password-no-match"},ke=["disabled"];function be(e,t,a,s,n,i){const l=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",G,[(0,r.Lk)("div",Z,[ee,(0,r.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>i.register&&i.register(...e)),["prevent"]))},[(0,r.Lk)("div",te,[ae,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),required:""},null,512),[[o.Jo,n.name]])]),(0,r.Lk)("div",oe,[re,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"surname","onUpdate:modelValue":t[1]||(t[1]=e=>n.surname=e),required:""},null,512),[[o.Jo,n.surname]])]),(0,r.Lk)("div",se,[ne,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"patronymic","onUpdate:modelValue":t[2]||(t[2]=e=>n.patronymic=e),required:""},null,512),[[o.Jo,n.patronymic]])]),(0,r.Lk)("div",ie,[le,(0,r.bo)((0,r.Lk)("input",{type:"email",id:"login","onUpdate:modelValue":t[3]||(t[3]=e=>n.login=e),required:""},null,512),[[o.Jo,n.login]])]),(0,r.Lk)("div",de,[ce,(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=e=>n.email=e),required:""},null,512),[[o.Jo,n.email]])]),(0,r.Lk)("div",ue,[pe,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[5]||(t[5]=e=>n.password=e),required:""},null,512),[[o.Jo,n.password]])]),(0,r.Lk)("div",me,[he,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[6]||(t[6]=e=>n.confirmPassword=e),required:""},null,512),[[o.Jo,n.confirmPassword]])]),(0,r.Lk)("div",fe,[n.passwordsMatch?((0,r.uX)(),(0,r.CE)("p",ge,"Пароли совпадают")):((0,r.uX)(),(0,r.CE)("p",ve,"Пароли не совпадают"))]),(0,r.Lk)("button",{type:"submit",disabled:!n.passwordsMatch},"Зарегистрироваться",8,ke)],32)]),(0,r.bF)(l)])}var we={name:"Registration",components:{Footer:J},data(){return{name:"",surname:"",patronymic:"",login:"",email:"",password:"",confirmPassword:"",passwordsMatch:!0}},watch:{password(){this.checkPasswordsMatch()},confirmPassword(){this.checkPasswordsMatch()}},methods:{checkPasswordsMatch(){this.passwordsMatch=this.password===this.confirmPassword},async register(){try{const e=await M.A.post("api/register/",{name:this.name,surname:this.surname,patronymic:this.patronymic,mail:this.email,login:this.login,password:this.password,confirm_password:this.confirmPassword});console.log("User registered:",e.data),localStorage.setItem("authToken",e.data.token),this.$router.push({name:"HomePage"})}catch(e){console.error("Error registering user:",e)}}}};const Le=(0,l.A)(we,[["render",be],["__scopeId","data-v-104dfbe8"]]);var ye=Le;const _e=e=>((0,r.Qi)("data-v-7e2a1349"),e=e(),(0,r.jt)(),e),Ee={class:"login-page"},Fe={class:"login-form"},Ce=_e((()=>(0,r.Lk)("h2",null,"Вход",-1))),Pe={class:"form-group"},Ue=_e((()=>(0,r.Lk)("label",{for:"username"},"Логин",-1))),Xe={class:"form-group"},Te=_e((()=>(0,r.Lk)("label",{for:"password"},"Пароль",-1))),Se=_e((()=>(0,r.Lk)("button",{type:"submit"},"Войти",-1)));function Ve(e,t,a,s,n,i){const l=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Ee,[(0,r.Lk)("div",Fe,[Ce,(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",Pe,[Ue,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>n.username=e),required:""},null,512),[[o.Jo,n.username]])]),(0,r.Lk)("div",Xe,[Te,(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=e=>n.password=e),required:""},null,512),[[o.Jo,n.password]])]),Se],32)]),(0,r.bF)(l)])}var $e={name:"LoginPage",data(){return{username:"",password:""}},components:{Footer:J},methods:{submitForm(){console.log("Логин:",this.username),console.log("Пароль:",this.password)}}};const qe=(0,l.A)($e,[["render",Ve],["__scopeId","data-v-7e2a1349"]]);var ze=qe;const Ae={class:"tags-page"},Je={class:"tags-container"},je=["onClick"];function Ie(e,t,a,o,s,n){const i=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Ae,[(0,r.Lk)("div",Je,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.tags,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:(0,p.C4)(["tag",{selected:s.selectedTag===e}]),key:t,onClick:t=>n.selectTag(e)},(0,p.v_)(e),11,je)))),128))]),(0,r.bF)(i)])}var xe={name:"Tags",components:{Footer:J},data(){return{tags:[],selectedTag:null}},async mounted(){try{const e=await W.get("/tags/");this.tags=e.data}catch(e){console.error("Error fetching tags:",e)}},methods:{selectTag(e){this.selectedTag=e}}};const Qe=(0,l.A)(xe,[["render",Ie],["__scopeId","data-v-4316b7cb"]]);var Ne=Qe;const Oe={class:"page-container"},He={class:"main-content"},Me={class:"magazines-list"},De={key:0},We=["href"];function Ke(e,t,a,o,s,n){const i=(0,r.g2)("Header"),l=(0,r.g2)("Sidebar"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Oe,[(0,r.bF)(i),(0,r.Lk)("div",He,[(0,r.bF)(l),(0,r.Lk)("div",Me,[(0,r.Lk)("div",null,[(0,r.Lk)("h1",null,(0,p.v_)(s.news.name),1),(0,r.Lk)("p",null,(0,p.v_)(s.news.description),1),s.news.file?((0,r.uX)(),(0,r.CE)("div",De,[(0,r.Lk)("a",{href:s.news.file,target:"_blank"},"Download File",8,We)])):(0,r.Q3)("",!0)])])]),(0,r.bF)(d)])}var Be={name:"MagazinesPage",components:{Header:X,Sidebar:H,Footer:J},props:{id:{type:String,required:!0}},data(){return{news:{}}},async mounted(){try{const e=await W.get(`/posts/${this.id}/`);this.news=e.data}catch(e){console.error("Error fetching news detail:",e)}}};const Ye=(0,l.A)(Be,[["render",Ke],["__scopeId","data-v-676f6cbd"]]);var Re=Ye;const Ge={class:"page-container"},Ze={class:"main-content"},et={class:"magazines-list"};function tt(e,t,a,o,s,n){const i=(0,r.g2)("Header"),l=(0,r.g2)("Sidebar"),d=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Ge,[(0,r.bF)(i),(0,r.Lk)("div",Ze,[(0,r.bF)(l),(0,r.Lk)("div",et,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.magazines,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"magazine-card",key:e.id},(0,p.v_)(e.name),1)))),128))])]),(0,r.bF)(d)])}var at={name:"MagazinesPage",components:{Header:X,Sidebar:H,Footer:J},data(){return{magazines:[{id:1,name:"New York Times"},{id:2,name:"Биография"},{id:3,name:"Esquire"},{id:4,name:"Elle"}]}}};const ot=(0,l.A)(at,[["render",tt],["__scopeId","data-v-93615e80"]]);var rt=ot;const st=e=>((0,r.Qi)("data-v-67f77604"),e=e(),(0,r.jt)(),e),nt={class:"profile"},it=st((()=>(0,r.Lk)("h1",null,"Мой профиль",-1))),lt={class:"avatar"},dt=st((()=>(0,r.Lk)("div",{class:"avatar-placeholder"},"+",-1))),ct={class:"form-group"},ut=st((()=>(0,r.Lk)("label",{for:"email"},"e-mail",-1))),pt={class:"form-group"},mt=st((()=>(0,r.Lk)("label",{for:"first_name"},"Имя",-1))),ht={class:"form-group"},ft=st((()=>(0,r.Lk)("label",{for:"last_name"},"Фамилия",-1))),gt={class:"form-group"},vt=st((()=>(0,r.Lk)("label",{for:"date_of_birth"},"Дата рождения",-1))),kt=st((()=>(0,r.Lk)("button",{type:"submit"},"Сохранить данные",-1))),bt=st((()=>(0,r.Lk)("h2",null,"Смена пароля",-1))),wt={class:"form-group"},Lt=st((()=>(0,r.Lk)("label",{for:"new_password"},"Старый пароль",-1))),yt={class:"form-group"},_t=st((()=>(0,r.Lk)("label",{for:"new_password"},"Новый пароль",-1))),Et={class:"form-group"},Ft=st((()=>(0,r.Lk)("label",{for:"confirm_password"},"Повтор пароля",-1))),Ct=st((()=>(0,r.Lk)("button",{type:"submit"},"Изменить пароль",-1))),Pt={key:0},Ut={key:1};function Xt(e,t,a,s,n,i){return(0,r.uX)(),(0,r.CE)("div",nt,[it,(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>i.updateProfile&&i.updateProfile(...e)),["prevent"]))},[(0,r.Lk)("div",lt,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.uploadAvatar&&i.uploadAvatar(...e))},"Добавить аватар"),dt]),(0,r.Lk)("div",ct,[ut,(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.user.email=e),id:"email",readonly:""},null,512),[[o.Jo,n.user.email]])]),(0,r.Lk)("div",pt,[mt,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.user.first_name=e),id:"first_name"},null,512),[[o.Jo,n.user.first_name]])]),(0,r.Lk)("div",ht,[ft,(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n.user.last_name=e),id:"last_name"},null,512),[[o.Jo,n.user.last_name]])]),(0,r.Lk)("div",gt,[vt,(0,r.bo)((0,r.Lk)("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=e=>n.user.date_of_birth=e),id:"date_of_birth"},null,512),[[o.Jo,n.user.date_of_birth]])]),kt],32),bt,(0,r.Lk)("form",{onSubmit:t[9]||(t[9]=(0,o.D$)(((...e)=>i.changePassword&&i.changePassword(...e)),["prevent"]))},[(0,r.Lk)("div",wt,[Lt,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>n.password.old=e),id:"new_password"},null,512),[[o.Jo,n.password.old]])]),(0,r.Lk)("div",yt,[_t,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=e=>n.password.new=e),id:"new_password"},null,512),[[o.Jo,n.password.new]])]),(0,r.Lk)("div",Et,[Ft,(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>n.password.confirm=e),id:"confirm_password"},null,512),[[o.Jo,n.password.confirm]])]),Ct,n.error?((0,r.uX)(),(0,r.CE)("p",Pt,(0,p.v_)(n.error),1)):(0,r.Q3)("",!0),n.success?((0,r.uX)(),(0,r.CE)("p",Ut,(0,p.v_)(n.success),1)):(0,r.Q3)("",!0)],32)])}var Tt={name:"account",data(){return{user:{email:"",first_name:"",last_name:"",date_of_birth:""},password:{new:"",confirm:"",old:""},error:null,success:null}},created(){this.fetchProfile()},methods:{async fetchProfile(){try{const e=await W.get("/api/profile/");this.user=e.data}catch(e){console.error("Error fetching profile:",e)}},async updateProfile(){try{await W.put("/api/profile/",this.user),alert("Данные профиля обновлены")}catch(e){console.error("Error updating profile:",e)}},async changePassword(){if(this.password.new===this.password.confirm)try{const e=await W.post("/api/change-password/",{new_password:this.password.new,confirm_password:this.password.confirm,old_password:this.password.old});this.success=e.data.success,this.error=null}catch(e){this.error=e.response.data.error,this.success=null,console.error("Error changing password:",e)}else alert("Пароли не совпадают")},uploadAvatar(){}}};const St=(0,l.A)(Tt,[["render",Xt],["__scopeId","data-v-67f77604"]]);var Vt=St;const $t=e=>((0,r.Qi)("data-v-53e0e6b4"),e=e(),(0,r.jt)(),e),qt={class:"page-container"},zt={class:"main-content"},At={class:"content"},Jt=$t((()=>(0,r.Lk)("h2",null,"Создание публикации",-1))),jt={class:"form-group"},It=$t((()=>(0,r.Lk)("label",{for:"title"},"Заголовок:",-1))),xt={class:"form-group"},Qt=$t((()=>(0,r.Lk)("label",{for:"content"},"Текст публикации:",-1))),Nt={class:"form-group"},Ot=$t((()=>(0,r.Lk)("label",{for:"preview"},"Превью:",-1))),Ht={class:"form-group"},Mt=$t((()=>(0,r.Lk)("label",{for:"tags"},"Теги:",-1))),Dt=["value"],Wt=$t((()=>(0,r.Lk)("button",{type:"submit"},"Опубликовать",-1)));function Kt(e,t,a,s,n,i){const l=(0,r.g2)("Header"),d=(0,r.g2)("Sidebar"),c=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",qt,[(0,r.bF)(l),(0,r.Lk)("div",zt,[(0,r.bF)(d),(0,r.Lk)("div",At,[Jt,(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,r.Lk)("div",jt,[It,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>n.title=e),required:""},null,512),[[o.Jo,n.title]])]),(0,r.Lk)("div",xt,[Qt,(0,r.bo)((0,r.Lk)("textarea",{id:"content","onUpdate:modelValue":t[1]||(t[1]=e=>n.content=e),required:""},null,512),[[o.Jo,n.content]])]),(0,r.Lk)("div",Nt,[Ot,(0,r.Lk)("input",{type:"file",id:"preview",onChange:t[2]||(t[2]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e))},null,32)]),(0,r.Lk)("div",Ht,[Mt,(0,r.bo)((0,r.Lk)("select",{id:"tags","onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedTag=e)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.tags,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,p.v_)(e),9,Dt)))),128))],512),[[o.u1,n.selectedTag]])]),Wt],32)])]),(0,r.bF)(c)])}var Bt={name:"CreatePostPage",components:{Header:X,Sidebar:H,Footer:J},data(){return{title:"",content:"",selectedTag:"",tags:["Спорт","Музыка","Кино","Наука","Москва","Липецк","Воронеж","Пермь"]}},created(){this.$route.params.id&&this.fetchPost()},methods:{handleFileUpload(e){},async submitForm(){this.$route.params.id?await this.updatePost():await this.createPost()},async createPost(){try{await W.post("/api/posts/",{title:this.title,content:this.content,selectedTag:this.selectedTag}),this.$router.push("/")}catch(e){console.error("Error creating post:",e)}},async fetchPost(){try{const e=await W.get(`/posts/${this.$route.params.id}/`);this.post=e.data}catch(e){console.error("Error fetching post:",e)}},async updatePost(){try{await W.put(`/api/posts/${this.$route.params.id}/`,{title:this.title,content:this.content,selectedTag:this.selectedTag}),this.$router.push("/")}catch(e){console.error("Error updating post:",e)}}}};const Yt=(0,l.A)(Bt,[["render",Kt],["__scopeId","data-v-53e0e6b4"]]);var Rt=Yt;const Gt=e=>((0,r.Qi)("data-v-bcafc1a0"),e=e(),(0,r.jt)(),e),Zt={class:"page-container"},ea={class:"main-content"},ta={class:"content"},aa=Gt((()=>(0,r.Lk)("h2",null,"Добавить редактора",-1))),oa={class:"form-group"},ra=Gt((()=>(0,r.Lk)("label",{for:"name"},"Л:",-1))),sa={class:"form-group"},na=Gt((()=>(0,r.Lk)("label",{for:"email"},"Почта:",-1))),ia={class:"form-group"},la=Gt((()=>(0,r.Lk)("label",{for:"magazines"},"Журналы:",-1))),da=["value"],ca=Gt((()=>(0,r.Lk)("button",{type:"submit"},"Добавить",-1))),ua=Gt((()=>(0,r.Lk)("h2",null,"Список редакторов",-1))),pa=Gt((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Редакторы"),(0,r.Lk)("th",null,"Журналы"),(0,r.Lk)("th",null,"e-mail"),(0,r.Lk)("th",null,"Удалить")])],-1))),ma=["onClick"];function ha(e,t,a,s,n,i){const l=(0,r.g2)("Header"),d=(0,r.g2)("Sidebar"),c=(0,r.g2)("Footer");return(0,r.uX)(),(0,r.CE)("div",Zt,[(0,r.bF)(l),(0,r.Lk)("div",ea,[(0,r.bF)(d),(0,r.Lk)("div",ta,[aa,(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>i.addEditor&&i.addEditor(...e)),["prevent"]))},[(0,r.Lk)("div",oa,[ra,(0,r.bo)((0,r.Lk)("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>n.newEditor.login=e),required:""},null,512),[[o.Jo,n.newEditor.login]])]),(0,r.Lk)("div",sa,[na,(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>n.newEditor.email=e),required:""},null,512),[[o.Jo,n.newEditor.email]])]),(0,r.Lk)("div",ia,[la,(0,r.bo)((0,r.Lk)("select",{id:"magazines","onUpdate:modelValue":t[2]||(t[2]=e=>n.newEditor.magazines=e),multiple:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.magazines,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e,value:e},(0,p.v_)(e),9,da)))),128))],512),[[o.u1,n.newEditor.magazines]])]),ca],32),ua,(0,r.Lk)("table",null,[pa,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.editors,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:t},[(0,r.Lk)("td",null,(0,p.v_)(t+1)+". "+(0,p.v_)(e.name),1),(0,r.Lk)("td",null,(0,p.v_)(e.magazines.join(", ")),1),(0,r.Lk)("td",null,(0,p.v_)(e.email),1),(0,r.Lk)("td",null,[(0,r.Lk)("button",{onClick:e=>i.removeEditor(t)},"Удалить",8,ma)])])))),128))])])])]),(0,r.bF)(c)])}var fa={name:"ManageEditorsPage",components:{Header:X,Sidebar:H,Footer:J},data(){return{newEditor:{name:"",email:"",magazines:[]},magazines:["7 дней","Elle","New York Times","Биография","Esquire"],editors:[{name:"Петров Иван В.",email:"petrov12@mail.ru",magazines:["7 дней","Elle"]}],users:[]}},created(){this.fetchUsers()},methods:{async fetchUsers(){try{const e=await W.get("/users/");this.users=e.data}catch(e){console.error("Error fetching users:",e)}},async deleteUser(e){try{await W.delete(`/users/${e}/`),await this.fetchUsers()}catch(t){console.error("Error deleting user:",t)}},async addEditor(){try{await W.post("/api/editors/",{name:this.newEditor.name,email:this.newEditor.email,magazines:this.newEditor.magazines}),this.newEditor.name="",this.newEditor.email="",this.newEditor.magazines=[],await this.fetchUsers()}catch(e){console.error("Error adding editor:",e)}},async removeEditor(e){const t=this.editors[e];try{await W.delete(`/api/editors/${t.email}/`),this.editors.splice(e,1)}catch(a){console.error("Error removing editor:",a)}}}};const ga=(0,l.A)(fa,[["render",ha],["__scopeId","data-v-bcafc1a0"]]);var va=ga;const ka=[{path:"/",component:Y,name:Y},{path:"/signup",component:ye,name:ye},{path:"/login",component:ze,name:ze},{path:"/choose-tags",component:Ne,name:Ne},{path:"/news",component:Re,name:Re},{path:"/magazines",component:rt,name:rt},{path:"/account",component:Vt,name:Vt},{path:"/add_news",component:Rt,name:Rt},{path:"/admin",component:va,name:va}],ba=(0,u.aE)({history:(0,u.LA)(),base:"static/",routes:ka});var wa=ba;const La=(0,o.Ef)(c);La.use(wa),La.mount("#app")}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,o,r,s){if(!o){var n=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],s=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[l])}))?o.splice(l--,1):(i=!1,s<n&&(n=s));if(i){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,r,s]}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,s,n=o[0],i=o[1],l=o[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var c=l(a)}for(t&&t(o);d<n.length;d++)s=n[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(8910)}));o=a.O(o)})();
//# sourceMappingURL=app.de076f5d.js.map